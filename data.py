from functools import reduce

points = {1: 25, 2: 18, 3: 15, 4: 12, 5: 10, 6: 8, 7: 6, 8: 4, 9: 2, 10: 1}


def modify_chain(grid_mod):
    for i in grid_mod:
        row_sum = max(1, reduce(lambda x, y: x + y, i))
        for b in range(len(i)):
            # i[b] = round(i[b] / row_sum, 3)
            i[b] = i[b] / row_sum


street_races_chain = \
    [[2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 114, 2, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 1, 108, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 2, 38, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 1, 3, 8, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 1, 2, 27, 2, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 2, 10, 2, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 1, 2, 37, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 1, 32, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 2, 0, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 9, 1, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 7, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]

standard_races_chain = \
    [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 59, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 4, 145, 3, 2, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 8, 14, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
     [0, 0, 1, 6, 15, 1, 3, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 1, 9, 114, 3, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 1, 0, 9, 67, 2, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 1, 1, 5, 38, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 2, 6, 36, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 8, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 16, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 1, 4, 2, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 1, 0, 0, 1, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 15, 2, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 7, 2, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 9, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]

season_input = \
    [[1, 57, 5],
     [0, 50, 3],
     [0, 58, 4],
     [0, 51, 6],
     [1, 57, 2],
     [0, 78, 2],
     [1, 66, 9],
     [1, 70, 3],
     [1, 71, 7],
     [1, 52, 9],
     [0, 70, 8],
     [1, 44, 9],
     [1, 72, 5],
     [1, 51, 10],
     [0, 62, 7],
     [1, 53, 10],
     [1, 57, 4],
     [1, 56, 17],
     [1, 71, 13],
     [1, 71, 4],
     [0, 50, 10],
     [1, 58, 7]]

scrape_input = {'bahrain': 's9083', 'saudi arabia': 's9088', 'australia': 's9093', 'azerbaijan': 's9098',
                'miami': 's9103', 'monaco': 's9113', 'spain': 's9118', 'canada': 's9123', 'austria': 's9128',
                'great britain': 's9133', 'hungary': 's9138', 'belgium': 's9143', 'dutch': 's9148', 'italy': 's9153',
                'singapore': 's9158', 'japanese': 's9163', 'qatar': 's9168', 'united states': 's9173',
                'mexico': 's9178', 'brazil': 's9183', 'las vegas': 's9188', 'abu dhabi': 's9193'}

street_stationary = [0.0, 0.137, 0.387, 0.078, 0.013, 0.031, 0.019, 0.094, 0.128, 0.024, 0.026, 0.008, 0.004, 0.004,
                     0.008, 0.023, 0.019, 0.0, 0.0, 0.0]

standard_stationary = [0.0, 0.16, 0.205, 0.035, 0.037, 0.164, 0.112, 0.071, 0.066, 0.051, 0.026, 0.005, 0.001, 0.008,
                       0.005, 0.023, 0.014, 0.013, 0.002, 0.0]

# modify_chain(standard_races_chain)
# modify_chain(street_races_chain)
# for i in range(20):
#     for j in range(20):
#         print(street_races_chain[i][j], end=" ")
#     print()
# print()
# for i in range(20):
#     for j in range(20):
#         print(standard_races_chain[i][j], end=" ")
#     print()

# street_laps = 0
# std_laps = 0
# for i in street_races_chain:
#     street_laps += reduce(lambda a, b: a + b, i)
# for i in standard_races_chain:
#     std_laps += reduce(lambda a, b: a + b, i)
# print("Street Laps: ", street_laps)
# print("Standard Laps: ", std_laps)
# print("Total Laps: ", street_laps + std_laps)
